{"ast":null,"code":"import axios from 'axios';\nimport { POST_RESERVATION, FETCH_RESERVATIONS, DELETE_RESERVATION } from './types';\nvar reservationsAPI = //'http://localhost:8080/api/reservations/' \n'https://cleaners-reservation.herokuapp.com/api/reservations/';\nexport var postReservation = function postReservation(name, surname, phone, email, address, city, date, hour, info) {\n  return function (dispatch) {\n    axios.post(reservationsAPI, {\n      name: name,\n      surname: surname,\n      phone: phone,\n      email: email,\n      address: address,\n      city: city,\n      date: date,\n      hour: hour,\n      info: info\n    }).then(function (res) {\n      return dispatch({\n        type: POST_RESERVATION,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      throw new Error('Couldnt post reservation.' + err);\n    });\n  };\n};\nexport var deleteReservation = function deleteReservation(id) {\n  return function (dispatch) {\n    axios.delete(reservationsAPI + id).then(function (res) {\n      return dispatch({\n        type: DELETE_RESERVATION,\n        payload: res.data\n      });\n    });\n  };\n};\nexport var fetchReservations = function fetchReservations(filters, sortBy, callBack) {\n  return function (dispatch) {\n    axios.get(reservationsAPI, {}).then(function (res) {\n      var reservations = res.data;\n\n      if (!!filters && filters.length > 0) {\n        reservations = reservations.filter(function (r) {\n          return filters.find(function (f) {\n            return r.types === r;\n          });\n        });\n      }\n\n      if (!!sortBy) {\n        reservations = reservations.sort(compare[sortBy]);\n      }\n\n      if (!!callback) {\n        callback();\n      }\n\n      return dispatch({\n        type: FETCH_RESERVATIONS,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      throw new Error('Could not fetch reservations.' + err);\n    });\n  };\n};\nexport var archiveReservation = function archiveReservation() {\n  return function (dispatch) {// axios.\n    // return dispatch({\n    //  type: ARCHIVE_RESERVATION,\n    //  payload: res.data\n    // });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\nadja\\Documents\\GitHub\\Cleaners\\client\\src\\store\\actions\\reservationActions.js"],"names":["axios","POST_RESERVATION","FETCH_RESERVATIONS","DELETE_RESERVATION","reservationsAPI","postReservation","name","surname","phone","email","address","city","date","hour","info","dispatch","post","then","res","type","payload","data","catch","err","console","log","Error","deleteReservation","id","delete","fetchReservations","filters","sortBy","callBack","get","reservations","length","filter","r","find","f","types","sort","compare","callback","archiveReservation"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { POST_RESERVATION, FETCH_RESERVATIONS, DELETE_RESERVATION } from './types';\r\n\r\n\r\nconst reservationsAPI = //'http://localhost:8080/api/reservations/' \r\n                        'https://cleaners-reservation.herokuapp.com/api/reservations/'\r\n\r\nexport const postReservation = (name, surname, phone, email, address, city, date, hour, info) => dispatch => {\r\n    axios.post(reservationsAPI, {\r\n          name, surname, phone, email, address, city, date, hour, info\r\n      })\r\n      .then(res => {\r\n          return dispatch({\r\n            type: POST_RESERVATION,\r\n            payload: res.data,\r\n          });       \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          throw new Error('Couldnt post reservation.' + err);\r\n        });\r\n  }\r\n\r\n export const deleteReservation = (id) => dispatch => {\r\n axios.delete(reservationsAPI + id)\r\n .then(res => {\r\n   return dispatch ({\r\n     type: DELETE_RESERVATION,\r\n     payload: res.data\r\n   });\r\n })\r\n }\r\n \r\n  export const fetchReservations = (filters, sortBy, callBack) => dispatch => {\r\n\r\n    axios.get(reservationsAPI, {\r\n    })\r\n      .then(res => { \r\n        let reservations = res.data;\r\n        if(!!filters && filters.length > 0){\r\n          reservations= reservations.filter( r => filters.find(f => r.types === r))\r\n        }\r\n        if(!!sortBy){\r\n          reservations = reservations.sort(compare[sortBy]);\r\n        }\r\n  \r\n        if(!!callback) {\r\n          callback();\r\n        }\r\n        return dispatch({\r\n          type: FETCH_RESERVATIONS,\r\n          payload: res.data\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        throw new Error('Could not fetch reservations.' + err);\r\n      });    \r\n  }\r\n\r\n  export const archiveReservation = () => dispatch => {\r\n   // axios.\r\n   // return dispatch({\r\n    //  type: ARCHIVE_RESERVATION,\r\n    //  payload: res.data\r\n   // });\r\n  }"]},"metadata":{},"sourceType":"module"}