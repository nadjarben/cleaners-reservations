{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{ModalFooter}from'reactstrap';import{deleteUser,addCreditToUser,changeUserName}from'../../../store/actions/userActions';import{connect}from'react-redux';import pencil from'../../../images/pencil.png';import plus from'../../../images/plus-circle.png';import minus from'../../../images/minus-circle.png';import Dialog from'@material-ui/core/Dialog';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import IconButton from'@material-ui/core/IconButton';import CloseIcon from'@material-ui/icons/Close';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';var ModalUsers=/*#__PURE__*/function(_React$Component){_inherits(ModalUsers,_React$Component);function ModalUsers(props){var _this;_classCallCheck(this,ModalUsers);_this=_possibleConstructorReturn(this,_getPrototypeOf(ModalUsers).call(this,props));_this.toggleAddCreditToUser=function(){_this.setState(function(prevState){return{renderCredit:!prevState.renderCredit};});};_this.toggleRetireCreditToUser=function(){_this.setState(function(prevState){return{renderCreditMinus:!prevState.renderCreditMinus};});};_this.toggleUser=function(){_this.setState(function(prevState){return{input:!prevState.input};});};_this.handleSubmitAddCredit=function(e){var actualCredit=Number(_this.state.credit);var prevCredit=Number(_this.props.user.credit);var credit=actualCredit+prevCredit;var id=_this.props.user._id;_this.props.addCreditToUser(id,credit);window.location.reload();};_this.handleSubmitRetireCredit=function(e){var actualCredit=Number(_this.state.credit);var prevCredit=Number(_this.props.user.credit);var credit=prevCredit-actualCredit;var id=_this.props.user._id;_this.props.addCreditToUser(id,credit);window.location.reload();};_this.changeUser=function(e){var _this$state=_this.state,name=_this$state.name,phone=_this$state.phone,surname=_this$state.surname,address=_this$state.address,email=_this$state.email;var id=_this.props.user._id;_this.props.changeUserName(id,name,surname,phone,email,address);window.location.reload();};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleAddCreditUser=function(){if(_this.state.renderCredit===true)return React.createElement(\"div\",null,React.createElement(TextField,{name:\"credit\",value:_this.state.credit,onChange:_this.handleChange,type:\"number\",placeholder:\"Ajouter credit\"}),React.createElement(Button,{variant:\"outlined\",color:\"primary\",type:\"submit\",onClick:_this.handleSubmitAddCredit},\"Ajouter\"));};_this.handleRetireCreditUser=function(){if(_this.state.renderCreditMinus===true)return React.createElement(\"div\",null,React.createElement(TextField,{name:\"credit\",value:_this.state.credit,onChange:_this.handleChange,type:\"number\",placeholder:\"Retirer credit\"}),React.createElement(Button,{variant:\"outlined\",color:\"secondary\",type:\"submit\",onClick:_this.handleSubmitRetireCredit},\"Enlever\"));};_this.renderValidate=function(){if(_this.state.input===true)return React.createElement(\"div\",null,React.createElement(Button,{variant:\"outlined\",color:\"primary\",onClick:_this.changeUser},\"Valider\"));};_this.renderInput=function(){var admin=function admin(){if(_this.props.user.isAdmin===true)return React.createElement(\"p\",null,\"oui\");else return React.createElement(\"p\",null,\"non\");};var user=_this.props.user;if(_this.state.input===true)return React.createElement(\"div\",null,React.createElement(AppBar,null,React.createElement(Toolbar,null,React.createElement(IconButton,{edge:\"start\",color:\"inherit\",onClick:_this.toggle,\"aria-label\":\"close\"},React.createElement(CloseIcon,null)),React.createElement(\"div\",{className:\"row\",style:{textAlign:'center'}},React.createElement(\"div\",{className:\"col-10\"},React.createElement(TextField,{name:\"name\",value:_this.state.name,onChange:_this.handleChange,type:\"text\",placeholder:\"changer le nom\"}),React.createElement(TextField,{name:\"surname\",value:_this.state.surname,onChange:_this.handleChange,type:\"text\",placeholder:\"changer le prenom\"})),React.createElement(\"div\",{className:\"col-2\"},React.createElement(\"img\",{src:pencil,alt:\"pencil\",onClick:_this.toggleUser,style:{cursor:'pointer'}}))))),React.createElement(\"div\",{className:\"container\"},React.createElement(\"h5\",null,\"Tel: \"),React.createElement(TextField,{name:\"phone\",value:_this.state.phone,onChange:_this.handleChange,type:\"text\",placeholder:\"changer le telephone\"}),React.createElement(\"h5\",null,\"Email: \"),React.createElement(TextField,{name:\"email\",value:_this.state.email,onChange:_this.handleChange,type:\"text\",placeholder:\"changer le mail\"}),React.createElement(\"h6\",null,\"Address: \"),React.createElement(TextField,{name:\"address\",value:_this.state.address,onChange:_this.handleChange,type:\"text\",placeholder:\"changer l'addresse\"}),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-2\"},React.createElement(\"h5\",null,\"Credit: \"),React.createElement(\"p\",null,user.credit)),React.createElement(\"div\",{className:\"col-1\"},React.createElement(\"img\",{src:plus,alt:\"plus\",onClick:_this.toggleAddCreditToUser})),React.createElement(\"div\",{className:\"col-1\"},React.createElement(\"img\",{src:minus,alt:\"minus\",onClick:_this.toggleRetireCreditToUser}))),_this.handleAddCreditUser(),_this.handleRetireCreditUser(),React.createElement(\"h5\",null,\"Admin: \"),\" \",React.createElement(\"p\",null,admin())));else return React.createElement(\"div\",null,React.createElement(AppBar,null,React.createElement(Toolbar,null,React.createElement(IconButton,{edge:\"start\",color:\"inherit\",onClick:_this.toggle,\"aria-label\":\"close\"},React.createElement(CloseIcon,null)),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-9\"},React.createElement(\"h5\",null,user.name,\" \",user.surname)),React.createElement(\"div\",{className:\"col-2\"},React.createElement(\"img\",{src:pencil,alt:\"pencil\",onClick:_this.toggleUser,style:{cursor:'pointer'}}))))),React.createElement(\"div\",{className:\"container\"},React.createElement(\"h5\",null,\"Tel: \"),React.createElement(\"p\",null,user.phone),React.createElement(\"h5\",null,\"Email: \"),React.createElement(\"p\",null,user.email),React.createElement(\"h6\",null,\"Address: \"),React.createElement(\"p\",null,user.address),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-2\"},React.createElement(\"h5\",null,\"Credit: \"),React.createElement(\"p\",null,user.credit)),React.createElement(\"div\",{className:\"col-1\"},React.createElement(\"img\",{src:plus,alt:\"plus\",onClick:_this.toggleAddCreditToUser})),React.createElement(\"div\",{className:\"col-1\"},React.createElement(\"img\",{src:minus,alt:\"minus\",onClick:_this.toggleRetireCreditToUser}))),_this.handleAddCreditUser(),_this.handleRetireCreditUser(),React.createElement(\"h5\",null,\"Admin: \"),\" \",React.createElement(\"p\",null,admin())));};_this.state={modal:false,credit:'',name:_this.props.user.name,surname:_this.props.user.surname,email:_this.props.user.email,phone:_this.props.user.phone,address:_this.props.user.address,renderCredit:false,renderCreditMinus:false,input:false};_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));return _this;}_createClass(ModalUsers,[{key:\"toggle\",value:function toggle(){this.setState(function(prevState){return{modal:!prevState.modal,renderCredit:false,renderCreditMinus:false,input:false};});}},{key:\"handleDeleteUser\",value:function handleDeleteUser(e){var id=this.props.user._id;this.props.deleteUser(id);window.location.reload();}},{key:\"render\",value:function render(){var _this2=this;var user=this.props.user;return React.createElement(\"div\",null,React.createElement(\"li\",{className:\"list-group-item\",onClick:this.toggle},user.name,\" \",user.surname,\" \"),React.createElement(Dialog,{fullScreen:true,open:this.state.modal,toggle:this.toggle},React.createElement(\"div\",{style:{marginTop:'12vh'}},this.renderInput()),React.createElement(ModalFooter,null,this.renderValidate(),React.createElement(Button,{variant:\"outlined\",color:\"secondary\",onClick:function onClick(e){return _this2.handleDeleteUser(e);}},\"Supprimer\"))));}}]);return ModalUsers;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{};};export default connect(mapStateToProps,{deleteUser:deleteUser,addCreditToUser:addCreditToUser,changeUserName:changeUserName})(ModalUsers);","map":{"version":3,"sources":["C:/Users/nadja/Documents/GitHub/Cleaners/client/src/components/admin/adminUsers/ModalUsers.js"],"names":["React","ModalFooter","deleteUser","addCreditToUser","changeUserName","connect","pencil","plus","minus","Dialog","AppBar","Toolbar","IconButton","CloseIcon","TextField","Button","ModalUsers","props","toggleAddCreditToUser","setState","prevState","renderCredit","toggleRetireCreditToUser","renderCreditMinus","toggleUser","input","handleSubmitAddCredit","e","actualCredit","Number","state","credit","prevCredit","user","id","_id","window","location","reload","handleSubmitRetireCredit","changeUser","name","phone","surname","address","email","handleChange","target","value","handleAddCreditUser","handleRetireCreditUser","renderValidate","renderInput","admin","isAdmin","toggle","textAlign","cursor","modal","bind","marginTop","handleDeleteUser","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ModalFooter } from 'reactstrap';\nimport { deleteUser, addCreditToUser, changeUserName } from '../../../store/actions/userActions';\nimport { connect } from 'react-redux';\nimport pencil from '../../../images/pencil.png';\nimport plus from '../../../images/plus-circle.png';\nimport minus from '../../../images/minus-circle.png';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\n\n class ModalUsers extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          modal: false,\n          credit: '',\n          name: this.props.user.name,\n          surname: this.props.user.surname,\n          email: this.props.user.email,\n          phone: this.props.user.phone,\n          address: this.props.user.address,\n          renderCredit: false,\n          renderCreditMinus: false,\n          input: false\n        };\n        this.toggle = this.toggle.bind(this);\n    }\n    toggle() {\n        this.setState(prevState => ({\n          modal: !prevState.modal,\n          renderCredit: false,\n          renderCreditMinus: false,\n          input: false\n        }));\n      }\n      toggleAddCreditToUser = () => {\n        this.setState(prevState => ({\n          renderCredit: !prevState.renderCredit\n        }));\n      }\n      toggleRetireCreditToUser = () => {\n        this.setState(prevState => ({\n          renderCreditMinus: !prevState.renderCreditMinus\n        }));\n      }\n      toggleUser = () => {\n        this.setState(prevState => ({\n          input: !prevState.input\n        }));\n      }\n      handleDeleteUser(e) {\n        const id = this.props.user._id\n        this.props.deleteUser(id);\n        window.location.reload(); \n      }\n      handleSubmitAddCredit = (e) => {\n        let actualCredit  = Number(this.state.credit);\n        let  prevCredit  = Number(this.props.user.credit);\n        const credit = actualCredit + prevCredit;\n        const id = this.props.user._id\n        this.props.addCreditToUser(id, credit);\n        window.location.reload();\n      }\n      handleSubmitRetireCredit = (e) => {\n        let actualCredit  = Number(this.state.credit);\n        let  prevCredit  = Number(this.props.user.credit);\n        const credit = prevCredit - actualCredit;\n        const id = this.props.user._id\n        this.props.addCreditToUser(id, credit);\n        window.location.reload();\n      }\n      changeUser = (e) => {\n        const { name, phone, surname, address, email }  = this.state;\n        const id = this.props.user._id\n        this.props.changeUserName(id, name, surname, phone, email, address);\n        window.location.reload();\n      }\n\n      handleChange = (e) => {\n        this.setState ({[e.target.name]: e.target.value})\n      }\n\n      handleAddCreditUser = () => {\n        if(this.state.renderCredit === true)\n        return (\n          <div>\n            <TextField name='credit' value={this.state.credit} onChange={this.handleChange} type='number' placeholder='Ajouter credit'/>\n            <Button variant=\"outlined\" color=\"primary\" type='submit' onClick={this.handleSubmitAddCredit}>Ajouter</Button>\n          </div>\n        )\n      }\n      handleRetireCreditUser = () => {\n        if(this.state.renderCreditMinus === true)\n        return (\n          <div>\n            <TextField name='credit' value={this.state.credit} onChange={this.handleChange} type='number' placeholder='Retirer credit'/>\n            <Button variant=\"outlined\" color=\"secondary\" type='submit' onClick={this.handleSubmitRetireCredit}>Enlever</Button>\n          </div>\n        )\n      }\n\n      renderValidate = () => {\n        if(this.state.input === true)\n        return(\n          <div>\n            <Button variant=\"outlined\" color=\"primary\" onClick={this.changeUser} >Valider</Button>\n          </div>\n        )\n      }\n      renderInput = () => {\n        const admin = () => {\n          if(this.props.user.isAdmin === true)\n          return <p>oui</p>\n          else return <p>non</p>\n      }\n        const { user } = this.props\n        if(this.state.input === true)\n        return (      \n<div>\n          <AppBar>\n                    <Toolbar>\n                      <IconButton edge=\"start\" color=\"inherit\" onClick={this.toggle} aria-label=\"close\">\n                        <CloseIcon />\n                      </IconButton>\n                      <div className='row' style={{textAlign:'center'}}>\n                        <div className='col-10'>\n                        <TextField name='name' value={this.state.name} onChange={this.handleChange} type='text' placeholder='changer le nom'/>\n                        <TextField name='surname' value={this.state.surname} onChange={this.handleChange} type='text' placeholder='changer le prenom'/>\n                        </div>\n                        <div className='col-2'>\n                          <img src={pencil} alt='pencil' onClick={this.toggleUser} style={{cursor:'pointer'}} />\n                        </div>\n                      </div>\n                      </Toolbar>\n                    </AppBar>\n                      <div className='container'>                        \n                        <h5>Tel: </h5><TextField name='phone' value={this.state.phone} onChange={this.handleChange} type='text' placeholder='changer le telephone'/>\n                        <h5>Email: </h5><TextField name='email' value={this.state.email} onChange={this.handleChange} type='text' placeholder='changer le mail'/>\n                        <h6>Address: </h6><TextField name='address' value={this.state.address} onChange={this.handleChange} type='text' placeholder=\"changer l'addresse\"/>\n                        <div className='row'>\n                          <div className='col-2'>\n                          <h5>Credit: </h5><p>{user.credit}</p>\n                          </div>\n                          <div className='col-1'>\n                          <img src={plus} alt='plus' onClick={this.toggleAddCreditToUser} />\n                          </div>\n                          <div className='col-1'>\n                          <img src={minus} alt='minus' onClick={this.toggleRetireCreditToUser} />\n                          </div>\n                        </div>\n                          {this.handleAddCreditUser()}\n                          {this.handleRetireCreditUser()}\n                        <h5>Admin: </h5> <p>{admin()}</p>\n                        </div>\n                    </div>\n        )\n        else return (\n          <div>\n          <AppBar>\n                    <Toolbar>\n                      <IconButton edge=\"start\" color=\"inherit\" onClick={this.toggle} aria-label=\"close\">\n                        <CloseIcon />\n                      </IconButton>\n                      <div className='row'>\n                        <div className='col-9'>\n                          <h5>{user.name} {user.surname}</h5>\n                        </div>\n                        <div className='col-2'>\n                          <img src={pencil} alt='pencil' onClick={this.toggleUser} style={{cursor:'pointer'}} />\n                        </div>\n                      </div>\n                      </Toolbar>\n                    </AppBar>                  \n                      <div className='container'>\n                        <h5>Tel: </h5><p>{user.phone}</p>\n                        <h5>Email: </h5><p>{user.email}</p>\n                        <h6>Address: </h6><p>{user.address}</p>\n                        <div className='row'>\n                          <div className='col-2'>\n                          <h5>Credit: </h5><p>{user.credit}</p>\n                          </div>\n                          <div className='col-1'>\n                          <img src={plus} alt='plus' onClick={this.toggleAddCreditToUser} />\n                          </div>\n                          <div className='col-1'>\n                          <img src={minus} alt='minus' onClick={this.toggleRetireCreditToUser} />\n                          </div>\n                        </div>\n                          {this.handleAddCreditUser()}\n                          {this.handleRetireCreditUser()}\n                        <h5>Admin: </h5> <p>{admin()}</p>\n                        </div>\n                    </div>\n        )\n      }\n    \n    render() {\n      \n        const {user} = this.props;\n     return(\n        <div>\n            <li className=\"list-group-item\" onClick={this.toggle}>{user.name} {user.surname} </li>\n                <Dialog fullScreen open={this.state.modal} toggle={this.toggle}>\n                  <div style={{marginTop:'12vh'}}>\n                  {this.renderInput()}\n                  </div>\n                    <ModalFooter>\n                      {this.renderValidate()}\n                      <Button variant=\"outlined\" color=\"secondary\" onClick={e => this.handleDeleteUser(e)} >Supprimer</Button>\n                    </ModalFooter>\n                </Dialog>\n        </div>\n     )\n    }\n }\n const mapStateToProps = state => ({\n    \n});\n\n\nexport default connect(mapStateToProps, {deleteUser, addCreditToUser, changeUserName })(ModalUsers)"]},"metadata":{},"sourceType":"module"}