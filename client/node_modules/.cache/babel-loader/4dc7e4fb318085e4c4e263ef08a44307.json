{"ast":null,"code":"/*!\n * React-swipe-to-delete-component v0.5.0\n * A simple React component implement 'swipe to delete' UI-pattern.\n * https://github.com/gaer87/react-swipe-to-delete-component\n\n * Copyright 2019, Fedotov Alexander\n * Released under the MIT license.\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\")) : \"function\" == typeof define && define.amd ? define([\"react\"], t) : \"object\" == typeof exports ? exports.SwipeToDeleteComponent = t(require(\"react\")) : e.SwipeToDeleteComponent = t(e.React);\n}(window, function (e) {\n  return function (e) {\n    var t = {};\n\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var o = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var o in e) {\n        n.d(r, o, function (t) {\n          return e[t];\n        }.bind(null, o));\n      }\n      return r;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 7);\n  }([function (t, n) {\n    t.exports = e;\n  }, function (e, t, n) {\n    e.exports = n(11)();\n  }, function (e, t) {\n    e.exports = function (e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    };\n  }, function (e, t) {\n    function n(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    e.exports = function (e, t, r) {\n      return t && n(e.prototype, t), r && n(e, r), e;\n    };\n  }, function (e, t, n) {\n    var r = n(8),\n        o = n(9);\n\n    e.exports = function (e, t) {\n      return !t || \"object\" !== r(t) && \"function\" != typeof t ? o(e) : t;\n    };\n  }, function (e, t) {\n    function n(t) {\n      return e.exports = n = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      }, n(t);\n    }\n\n    e.exports = n;\n  }, function (e, t, n) {\n    var r = n(10);\n\n    e.exports = function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && r(e, t);\n    };\n  }, function (e, t, n) {\n    e.exports = n(14);\n  }, function (e, t) {\n    function n(e) {\n      return (n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function r(t) {\n      return \"function\" == typeof Symbol && \"symbol\" === n(Symbol.iterator) ? e.exports = r = function r(e) {\n        return n(e);\n      } : e.exports = r = function r(e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : n(e);\n      }, r(t);\n    }\n\n    e.exports = r;\n  }, function (e, t) {\n    e.exports = function (e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    };\n  }, function (e, t) {\n    function n(t, r) {\n      return e.exports = n = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      }, n(t, r);\n    }\n\n    e.exports = n;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(12);\n\n    function o() {}\n\n    function i() {}\n\n    i.resetWarningCache = o, e.exports = function () {\n      function e(e, t, n, o, i, a) {\n        if (a !== r) {\n          var c = new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");\n          throw c.name = \"Invariant Violation\", c;\n        }\n      }\n\n      function t() {\n        return e;\n      }\n\n      e.isRequired = e;\n      var n = {\n        array: e,\n        bool: e,\n        func: e,\n        number: e,\n        object: e,\n        string: e,\n        symbol: e,\n        any: e,\n        arrayOf: t,\n        element: e,\n        elementType: e,\n        instanceOf: t,\n        node: e,\n        objectOf: t,\n        oneOf: t,\n        oneOfType: t,\n        shape: t,\n        exact: t,\n        checkPropTypes: i,\n        resetWarningCache: o\n      };\n      return n.PropTypes = n, n;\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    e.exports = \"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";\n  }, function (e, t, n) {}, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t);\n\n    var r = n(2),\n        o = n.n(r),\n        i = n(3),\n        a = n.n(i),\n        c = n(4),\n        u = n.n(c),\n        s = n(5),\n        l = n.n(s),\n        f = n(6),\n        d = n.n(f),\n        p = n(0),\n        h = n.n(p),\n        v = n(1),\n        m = n.n(v),\n        y = function y() {\n      var e = h.a.createElement(\"svg\", {\n        x: \"0px\",\n        y: \"0px\",\n        width: \"512px\",\n        height: \"512px\",\n        viewBox: \"0 0 900.5 900.5\"\n      }, h.a.createElement(\"g\", null, h.a.createElement(\"path\", {\n        d: \"M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z    M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z\",\n        fill: \"#FFFFFF\"\n      }), h.a.createElement(\"path\", {\n        d: \"M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874   c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576   c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z\",\n        fill: \"#FFFFFF\"\n      })), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null), h.a.createElement(\"g\", null));\n      return h.a.createElement(\"div\", null, e, e);\n    },\n        g = function () {\n      function e(t) {\n        var n = t.deleteSwipe,\n            r = void 0 === n ? .5 : n;\n        o()(this, e), this.deleteSwipe = r, this.startX = 0, this.startY = 0, this.erasePrevX();\n      }\n\n      return a()(e, [{\n        key: \"erasePrevX\",\n        value: function value() {\n          this.prevX = null;\n        }\n      }, {\n        key: \"calcSwipePercent\",\n        value: function value(e) {\n          return e.shift / e.width;\n        }\n      }, {\n        key: \"isDelete\",\n        value: function value(e) {\n          return Math.abs(e) >= this.deleteSwipe;\n        }\n      }]), e;\n    }(),\n        b = {\n      Android: function Android() {\n        return navigator.userAgent.match(/Android/i);\n      },\n      BlackBerry: function BlackBerry() {\n        return navigator.userAgent.match(/BlackBerry/i);\n      },\n      iOS: function iOS() {\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n      },\n      Opera: function Opera() {\n        return navigator.userAgent.match(/Opera Mini/i);\n      },\n      Windows: function Windows() {\n        return navigator.userAgent.match(/IEMobile/i);\n      },\n      any: function any() {\n        return this.Android() || this.BlackBerry() || this.iOS() || this.Opera() || this.Windows();\n      }\n    },\n        E = function () {\n      function e() {\n        o()(this, e);\n      }\n\n      return a()(e, null, [{\n        key: \"factory\",\n        value: function value(e) {\n          return e ? new S() : new k();\n        }\n      }]), e;\n    }(),\n        S = function (e) {\n      function t() {\n        return o()(this, t), u()(this, l()(t).apply(this, arguments));\n      }\n\n      return d()(t, e), a()(t, [{\n        key: \"getPageX\",\n        value: function value(e) {\n          return e.targetTouches[0].pageX;\n        }\n      }, {\n        key: \"getPageY\",\n        value: function value(e) {\n          return e.targetTouches[0].pageY;\n        }\n      }, {\n        key: \"getStartEventName\",\n        value: function value() {\n          return \"touchstart\";\n        }\n      }, {\n        key: \"getInteractEventName\",\n        value: function value() {\n          return \"touchmove\";\n        }\n      }, {\n        key: \"getStopEventNames\",\n        value: function value() {\n          return [\"touchend\"];\n        }\n      }]), t;\n    }(E),\n        k = function (e) {\n      function t() {\n        return o()(this, t), u()(this, l()(t).apply(this, arguments));\n      }\n\n      return d()(t, e), a()(t, [{\n        key: \"getPageX\",\n        value: function value(e) {\n          return e.pageX;\n        }\n      }, {\n        key: \"getPageY\",\n        value: function value(e) {\n          return e.pageY;\n        }\n      }, {\n        key: \"getStartEventName\",\n        value: function value() {\n          return \"mousedown\";\n        }\n      }, {\n        key: \"getInteractEventName\",\n        value: function value() {\n          return \"mousemove\";\n        }\n      }, {\n        key: \"getStopEventNames\",\n        value: function value() {\n          return [\"mouseup\", \"mouseleave\"];\n        }\n      }]), t;\n    }(E);\n\n    n(13);\n    n.d(t, \"default\", function () {\n      return w;\n    });\n\n    var w = function (e) {\n      function t(e) {\n        var n;\n        return o()(this, t), (n = u()(this, l()(t).call(this, e))).state = {\n          isDeleted: !1\n        }, n.model = new g({\n          deleteSwipe: n.props.deleteSwipe\n        }), n.device = E.factory(b.any()), n.bindHandlers(), n;\n      }\n\n      return d()(t, e), a()(t, [{\n        key: \"render\",\n        value: function value() {\n          var e = this;\n          return this.state.isDeleted ? null : h.a.createElement(this.props.tag, {\n            className: \"swipe-to-delete \".concat(this.props.classNameTag)\n          }, [h.a.createElement(\"div\", {\n            key: \"delete\",\n            className: \"js-delete\"\n          }, this.props.background), h.a.createElement(\"div\", {\n            key: \"content\",\n            className: \"js-content\",\n            ref: function ref(t) {\n              return e.regionContent = t;\n            }\n          }, this.props.children)]);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function value() {\n          this.addHandlers();\n        }\n      }, {\n        key: \"bindHandlers\",\n        value: function value() {\n          this.addHandlers = this.addHandlers.bind(this), this.isInteract = this.isInteract.bind(this), this.interact = this.interact.bind(this), this.onMove = this.onMove.bind(this), this.stopInteract = this.stopInteract.bind(this), this.offInteract = this.offInteract.bind(this), this.endInteract = this.endInteract.bind(this), this.onDelete = this.onDelete.bind(this), this.onCancel = this.onCancel.bind(this);\n        }\n      }, {\n        key: \"addHandlers\",\n        value: function value() {\n          this.startInteract().then(this.isInteract).then(this.interact).then(this.stopInteract).then(this.endInteract).catch(this.addHandlers);\n        }\n      }, {\n        key: \"startInteract\",\n        value: function value() {\n          var e = this;\n          return new Promise(function (t) {\n            var n = e.regionContent.firstChild;\n            n.addEventListener(e.device.getStartEventName(), function r(o) {\n              n.removeEventListener(e.device.getStartEventName(), r, !1), e.model.startX = e.device.getPageX(o), e.model.startY = e.device.getPageY(o), t();\n            }, !1);\n          });\n        }\n      }, {\n        key: \"isInteract\",\n        value: function value() {\n          var e = this;\n          return new Promise(function (t, n) {\n            document.addEventListener(e.device.getInteractEventName(), function r(o) {\n              document.removeEventListener(e.device.getInteractEventName(), r, !1);\n              var i = e.device.getPageX(o) - e.model.startX,\n                  a = e.device.getPageY(o) - e.model.startY;\n              Math.abs(i) > Math.abs(a) ? t() : n();\n            }, !1);\n          });\n        }\n      }, {\n        key: \"interact\",\n        value: function value() {\n          document.addEventListener(this.device.getInteractEventName(), this.onMove, !1);\n        }\n      }, {\n        key: \"offInteract\",\n        value: function value() {\n          document.removeEventListener(this.device.getInteractEventName(), this.onMove, !1);\n        }\n      }, {\n        key: \"onMove\",\n        value: function value(e) {\n          this.moveAt(e), this.callMoveCB(e);\n        }\n      }, {\n        key: \"moveAt\",\n        value: function value(e) {\n          var t = this.regionContent.firstChild,\n              n = this.device.getPageX(e) - this.model.startX;\n          t.style.left = \"\".concat(n, \"px\");\n        }\n      }, {\n        key: \"callMoveCB\",\n        value: function value(e) {\n          var t = this.device.getPageX(e),\n              n = t - (this.model.prevX || this.model.startX);\n          n && (n > 0 ? this.props.onRight(e) : this.props.onLeft(e), this.model.prevX = t);\n        }\n      }, {\n        key: \"stopInteract\",\n        value: function value() {\n          var e = this;\n          return new Promise(function (t, n) {\n            var r = e.regionContent.firstChild;\n            e._onStopInteract = function (r) {\n              return e.onStopInteract(r, t, n);\n            }, e.device.getStopEventNames().forEach(function (t) {\n              return r.addEventListener(t, e._onStopInteract, !1);\n            });\n          });\n        }\n      }, {\n        key: \"onStopInteract\",\n        value: function value(e, t, n) {\n          var r = this,\n              o = this.regionContent.firstChild;\n          this.offInteract(), this.device.getStopEventNames().forEach(function (e) {\n            return o.removeEventListener(e, r._onStopInteract, !1);\n          }), this.model.erasePrevX(), e.currentTarget.offsetLeft ? t() : n();\n        }\n      }, {\n        key: \"endInteract\",\n        value: function value() {\n          var e = this,\n              t = this.regionContent.firstChild,\n              n = this.getSwipePercent(),\n              r = new Promise(function (r, o) {\n            e.model.isDelete(n) ? (t.addEventListener(\"transitionend\", function (e) {\n              return r(e);\n            }, !1), n < 0 ? t.classList.add(\"js-transition-delete-left\") : t.classList.add(\"js-transition-delete-right\")) : (t.addEventListener(\"transitionend\", function (e) {\n              return o(e);\n            }, !1), t.classList.add(\"js-transition-cancel\"));\n          });\n          return r.then(this.onDelete, this.onCancel), r;\n        }\n      }, {\n        key: \"getSwipePercent\",\n        value: function value() {\n          var e = this.regionContent.firstChild.offsetLeft,\n              t = this.regionContent.clientWidth;\n          return this.model.calcSwipePercent({\n            shift: e,\n            width: t\n          });\n        }\n      }, {\n        key: \"onDelete\",\n        value: function value() {\n          this.props.onDelete(), this.setState({\n            isDeleted: !0\n          });\n        }\n      }, {\n        key: \"onCancel\",\n        value: function value(e) {\n          this.props.onCancel();\n          var t = e.currentTarget;\n          t.classList.remove(\"js-transition-cancel\"), this.model.startX = this.model.startY = t.style.left = 0;\n        }\n      }]), t;\n    }(h.a.Component);\n\n    w.defaultProps = {\n      tag: \"div\",\n      classNameTag: \"\",\n      background: h.a.createElement(y, null),\n      onDelete: function onDelete() {},\n      onCancel: function onCancel() {},\n      onLeft: function onLeft() {},\n      onRight: function onRight() {}\n    }, w.propTypes = {\n      children: m.a.element.isRequired,\n      background: m.a.element,\n      onDelete: m.a.func,\n      onCancel: m.a.func,\n      onLeft: m.a.func,\n      onRight: m.a.func,\n      tag: m.a.string,\n      classNameTag: m.a.string,\n      deleteSwipe: function deleteSwipe(e, t, n) {\n        var r = e[t];\n        if (r) return \"number\" != typeof r ? new Error('Invalid prop \"deleteSwipe\" in '.concat(n, \": can be number only.\")) : r < 0 || r > 1 ? new Error('Invalid prop \"deleteSwipe\" in '.concat(n, \": can be in range [0, 1].\")) : void 0;\n      }\n    };\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}