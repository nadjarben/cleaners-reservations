{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\src\\\\components\\\\navbar\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { getFromStorage, setInStorage } from '../../config/storage';\n\nvar login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(login, _Component);\n\n  function login(props) {\n    var _this;\n\n    _classCallCheck(this, login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(login).call(this, props));\n    _this.state = {\n      isLoading: true,\n      token: '',\n      signUpError: '',\n      signInError: '',\n      signInEmail: '',\n      signInPassword: '',\n      signUpFirstName: '',\n      signUpLastName: '',\n      signUpEmail: '',\n      signUpPassword: ''\n    };\n    _this.onTextboxChangeSignInEmail = _this.onTextboxChangeSignInEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onTextboxChangeSignInPassword = _this.onTextboxChangeSignInPassword.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onTextboxChangeSignUpEmail = _this.onTextboxChangeSignUpEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onTextboxChangeSignUpPassword = _this.onTextboxChangeSignUpPassword.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onTextboxChangeSignUpFirstName = _this.onTextboxChangeSignUpFirstName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onTextboxChangeSignUpLastName = _this.onTextboxChangeSignUpLastName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSignIn = _this.onSignIn.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSignUp = _this.onSignUp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var obj = getFromStorage('the_main_app');\n\n      if (obj && obj.token) {\n        var token = obj.token; // Verify token\n\n        fetch('/api/account/verify?token=' + token).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          if (json.success) {\n            _this2.setState({\n              token: token,\n              isLoading: false\n            });\n          } else {\n            _this2.setState({\n              isLoading: false\n            });\n          }\n        });\n      } else {\n        this.setState({\n          isLoading: false\n        });\n      }\n    }\n  }, {\n    key: \"onTextboxChangeSignInEmail\",\n    value: function onTextboxChangeSignInEmail(e) {\n      this.setState({\n        signInEmail: e.target.value\n      });\n    }\n  }, {\n    key: \"onTextboxChangeSignInPassword\",\n    value: function onTextboxChangeSignInPassword(e) {\n      this.setState({\n        signInPassword: e.target.value\n      });\n    }\n  }, {\n    key: \"onTextboxChangeSignUpEmail\",\n    value: function onTextboxChangeSignUpEmail(e) {\n      this.setState({\n        signUpEmail: e.target.value\n      });\n    }\n  }, {\n    key: \"onTextboxChangeSignUpPassword\",\n    value: function onTextboxChangeSignUpPassword(e) {\n      this.setState({\n        signUpPassword: e.target.value\n      });\n    }\n  }, {\n    key: \"onTextboxChangeSignUpFirstName\",\n    value: function onTextboxChangeSignUpFirstName(e) {\n      this.setState({\n        signUpFirstName: e.target.value\n      });\n    }\n  }, {\n    key: \"onTextboxChangeSignUpLastName\",\n    value: function onTextboxChangeSignUpLastName(e) {\n      this.setState({\n        signUpLastName: e.target.value\n      });\n    }\n  }, {\n    key: \"onSignIn\",\n    value: function onSignIn() {\n      var _this$state = this.state,\n          signInEmail = _this$state.signInEmail,\n          signInPassword = _this$state.signInPassword;\n    }\n  }, {\n    key: \"onSignUp\",\n    value: function onSignUp() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          signUpFirstName = _this$state2.signUpFirstName,\n          signUpLastName = _this$state2.signUpLastName,\n          signUpEmail = _this$state2.signUpEmail,\n          signUpPassword = _this$state2.signUpPassword;\n      this.setState({\n        isLoading: true\n      });\n      fetch('/api/account/signup', {\n        method: 'POST',\n        body: JSON.stringify({\n          firstName: signUpFirstName,\n          lastName: signUpLastName,\n          email: signUpEmail,\n          password: signUpPassword\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          _this3.setState({\n            signUpError: json.message,\n            isLoading: false,\n            signInEmail: '',\n            signUpPassword: '',\n            signUpFirstName: '',\n            signUpLastName: ''\n          });\n        } else {\n          _this3.setState({\n            signUpError: json.message,\n            isLoading: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state3 = this.state,\n          isLoading = _this$state3.isLoading,\n          token = _this$state3.token,\n          signInError = _this$state3.signInError,\n          signInEmail = _this$state3.signInEmail,\n          signInPassword = _this$state3.signInPassword,\n          signUpEmail = _this$state3.signUpEmail,\n          signUpPassword = _this$state3.signUpPassword,\n          signUpError = _this$state3.signUpError;\n\n      if (isLoading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"Loading...\"));\n      }\n\n      if (!token) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, signInError ? React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, signInError) : null, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Sign In\"), React.createElement(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: signInEmail,\n          onChange: this.onTextboxChangeSignInEmail,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: signInPassword,\n          onChange: this.onTextboxChangeSignInPassword,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, \"Sign In\")), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, signUpError ? React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, signUpError) : null, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, \"Sign Up\"), React.createElement(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: signUpEmail,\n          onChange: this.onTextboxChangeSignUpEmail,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: signUpPassword,\n          onChange: this.onTextboxChangeSignUpPassword,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          onClick: this.onSignUp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, \"Sign Up\")));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Signed in\"));\n    }\n  }]);\n\n  return login;\n}(Component);\n\nexport { login as default };","map":{"version":3,"sources":["C:\\Users\\nadja\\Documents\\GitHub\\Cleaners\\client\\src\\components\\navbar\\Login.js"],"names":["React","Component","getFromStorage","setInStorage","login","props","state","isLoading","token","signUpError","signInError","signInEmail","signInPassword","signUpFirstName","signUpLastName","signUpEmail","signUpPassword","onTextboxChangeSignInEmail","bind","onTextboxChangeSignInPassword","onTextboxChangeSignUpEmail","onTextboxChangeSignUpPassword","onTextboxChangeSignUpFirstName","onTextboxChangeSignUpLastName","onSignIn","onSignUp","obj","fetch","then","res","json","success","setState","e","target","value","method","body","JSON","stringify","firstName","lastName","email","password","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { getFromStorage, setInStorage } from '../../config/storage';\r\nexport default class login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isLoading: true,\r\n            token: '',\r\n            signUpError: '',\r\n            signInError: '',\r\n            signInEmail: '',\r\n            signInPassword: '',\r\n            signUpFirstName: '',\r\n            signUpLastName: '',\r\n            signUpEmail: '',\r\n            signUpPassword: ''\r\n        };\r\n    this.onTextboxChangeSignInEmail = this.onTextboxChangeSignInEmail.bind(this);\r\n    this.onTextboxChangeSignInPassword = this.onTextboxChangeSignInPassword.bind(this);\r\n    this.onTextboxChangeSignUpEmail = this.onTextboxChangeSignUpEmail.bind(this);\r\n    this.onTextboxChangeSignUpPassword = this.onTextboxChangeSignUpPassword.bind(this);\r\n    this.onTextboxChangeSignUpFirstName = this.onTextboxChangeSignUpFirstName.bind(this);\r\n    this.onTextboxChangeSignUpLastName = this.onTextboxChangeSignUpLastName.bind(this);\r\n    \r\n    this.onSignIn = this.onSignIn.bind(this);\r\n    this.onSignUp = this.onSignUp.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const obj = getFromStorage('the_main_app');\r\n        if (obj && obj.token) {\r\n          const { token } = obj;\r\n          // Verify token\r\n          fetch('/api/account/verify?token=' + token)\r\n            .then(res => res.json())\r\n            .then(json => {\r\n              if (json.success) {\r\n                this.setState({\r\n                  token,\r\n                  isLoading: false\r\n                });\r\n              } else {\r\n                this.setState({\r\n                  isLoading: false,\r\n                });\r\n              }\r\n            });\r\n        } else {\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n        }\r\n      }\r\n\r\n      onTextboxChangeSignInEmail(e) {\r\n          this.setState({\r\n              signInEmail: e.target.value,\r\n          })\r\n      }\r\n      onTextboxChangeSignInPassword(e) {\r\n        this.setState({\r\n            signInPassword: e.target.value,\r\n        })\r\n    }\r\n    onTextboxChangeSignUpEmail(e) {\r\n        this.setState({\r\n            signUpEmail: e.target.value,\r\n        })\r\n    }\r\n    onTextboxChangeSignUpPassword(e) {\r\n        this.setState({\r\n            signUpPassword: e.target.value,\r\n        })\r\n    }\r\n    onTextboxChangeSignUpFirstName(e) {\r\n        this.setState({\r\n            signUpFirstName: e.target.value,\r\n        })\r\n    }\r\n    onTextboxChangeSignUpLastName(e) {\r\n        this.setState({\r\n            signUpLastName: e.target.value,\r\n        })\r\n    }\r\n\r\n    onSignIn() {\r\n        const { signInEmail, signInPassword } = this.state;\r\n\r\n    }\r\n\r\n    onSignUp() {\r\n        const { signUpFirstName, signUpLastName, signUpEmail, signUpPassword} = this.state;\r\n\r\n        this.setState({\r\n            isLoading: true\r\n        });\r\n\r\n        fetch('/api/account/signup', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                firstName: signUpFirstName,\r\n                lastName: signUpLastName,\r\n                email: signUpEmail,\r\n                password: signUpPassword,\r\n            }),\r\n        }).then(res => res.json())\r\n        .then(json => {\r\n            if(json.success) {\r\n                this.setState({\r\n                    signUpError: json.message,\r\n                    isLoading: false,\r\n                    signInEmail: '',\r\n                    signUpPassword: '',\r\n                    signUpFirstName: '',\r\n                    signUpLastName: ''\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    signUpError: json.message,\r\n                    isLoading: false\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n          isLoading,\r\n          token,\r\n          signInError,\r\n          signInEmail,\r\n          signInPassword,\r\n          signUpEmail,\r\n          signUpPassword,\r\n          signUpError,\r\n        } = this.state;\r\n        if (isLoading) {\r\n          return (<div><p>Loading...</p></div>);\r\n        }\r\n        if (!token) {\r\n          return (\r\n            <div>\r\n              <div>\r\n                {\r\n                  (signInError) ? (\r\n                    <p>{signInError}</p>\r\n                  ) : (null)\r\n                }\r\n                <p>Sign In</p>\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  value={signInEmail}\r\n                  onChange={this.onTextboxChangeSignInEmail}\r\n                />\r\n                <br />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={signInPassword}\r\n                  onChange={this.onTextboxChangeSignInPassword}\r\n                />\r\n                <br />\r\n                <button>Sign In</button>\r\n              </div>\r\n              <br />\r\n              <br />\r\n              <div>\r\n                {\r\n                  (signUpError) ? (\r\n                    <p>{signUpError}</p>\r\n                  ) : (null)\r\n                }\r\n                <p>Sign Up</p>\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  value={signUpEmail}\r\n                  onChange={this.onTextboxChangeSignUpEmail}\r\n                /><br />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={signUpPassword}\r\n                  onChange={this.onTextboxChangeSignUpPassword}\r\n                /><br />\r\n                <button onClick={this.onSignUp}>Sign Up</button>\r\n              </div>\r\n           </div>\r\n          );\r\n        }\r\n        return (\r\n          <div>\r\n            <p>Signed in</p>\r\n          </div>\r\n        );\r\n      }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}