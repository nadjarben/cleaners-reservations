{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nadja\\\\Documents\\\\GitHub\\\\Cleaners\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { POST_RESERVATION, FETCH_RESERVATIONS, DELETE_RESERVATION, MAIL_RESERVATION } from './types';\nvar reservationsAPI = //'http://localhost:8080/api/reservations/' \n//'https://cleaners-reservation.herokuapp.com/api/reservations/'\n'https://www.thecleanersisrael.com/api/reservations/';\nvar nodeMailerAPI = //'http://localhost:8080/api/send/'\n'https://www.thecleanersisrael.com/api/send/';\nexport var postReservation = function postReservation(name, surname, phone, email, address, date, hour, info, namefact, addressfact, note) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.post(reservationsAPI, {\n                  name: name,\n                  surname: surname,\n                  phone: phone,\n                  email: email,\n                  address: address,\n                  date: date,\n                  hour: hour,\n                  info: info,\n                  namefact: namefact,\n                  addressfact: addressfact,\n                  note: note\n                }).then(function (res) {\n                  return dispatch({\n                    type: POST_RESERVATION,\n                    payload: res.data\n                  });\n                }).catch(function (err) {\n                  console.log(err);\n                  throw new Error('Couldnt post reservation.' + err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var mailReservation = function mailReservation(name, surname, phone, email, address, date, hour, info, namefact, addressfact, note) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.post(nodeMailerAPI, {\n                  name: name,\n                  surname: surname,\n                  phone: phone,\n                  email: email,\n                  address: address,\n                  date: date,\n                  hour: hour,\n                  info: info,\n                  namefact: namefact,\n                  addressfact: addressfact,\n                  note: note\n                }).then(function (res) {\n                  return dispatch({\n                    type: MAIL_RESERVATION,\n                    payload: res.data\n                  });\n                }).catch(function (err) {\n                  console.log(err);\n                  throw new Error('Couldnt post reservation.' + err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var deleteReservation = function deleteReservation(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.delete(reservationsAPI + id).then(function (res) {\n                  return dispatch({\n                    type: DELETE_RESERVATION,\n                    payload: res.data\n                  });\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var fetchReservations = function fetchReservations() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.get(reservationsAPI, {}).then(function (res) {\n                  return dispatch({\n                    type: FETCH_RESERVATIONS,\n                    payload: res.data\n                  });\n                }).catch(function (err) {\n                  console.log(err);\n                  throw new Error('Could not fetch reservations.' + err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["C:\\Users\\nadja\\Documents\\GitHub\\Cleaners\\client\\src\\store\\actions\\reservationActions.js"],"names":["axios","POST_RESERVATION","FETCH_RESERVATIONS","DELETE_RESERVATION","MAIL_RESERVATION","reservationsAPI","nodeMailerAPI","postReservation","name","surname","phone","email","address","date","hour","info","namefact","addressfact","note","dispatch","post","then","res","type","payload","data","catch","err","console","log","Error","mailReservation","deleteReservation","id","delete","fetchReservations","get"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { POST_RESERVATION, FETCH_RESERVATIONS, DELETE_RESERVATION, MAIL_RESERVATION } from './types';\n\n\nconst reservationsAPI = //'http://localhost:8080/api/reservations/' \n                        //'https://cleaners-reservation.herokuapp.com/api/reservations/'\n                        'https://www.thecleanersisrael.com/api/reservations/'\nconst nodeMailerAPI = //'http://localhost:8080/api/send/'\n                      'https://www.thecleanersisrael.com/api/send/'\n\n\n\nexport  const  postReservation = (name, surname, phone, email, address, date, hour, info, namefact, addressfact, note) => async dispatch => {\n    await axios.post(reservationsAPI, {\n          name, surname, phone, email, address, date, hour, info, namefact, addressfact, note\n      })\n      .then(res => {\n          return dispatch({\n            type: POST_RESERVATION,\n            payload: res.data,\n          });       \n        })\n        .catch(err => {\n          console.log(err);\n          throw new Error('Couldnt post reservation.' + err);\n        });\n  }\n\n  export const mailReservation = (name, surname, phone, email, address, date, hour, info, namefact, addressfact, note) => async dispatch => {\n    await axios.post(nodeMailerAPI, {\n          name, surname, phone, email, address, date, hour, info, namefact, addressfact, note\n      })\n      .then(res => {\n          return dispatch({\n            type: MAIL_RESERVATION,\n            payload: res.data,\n          });       \n        })\n        .catch(err => {\n          console.log(err);\n          throw new Error('Couldnt post reservation.' + err);\n        });\n  }\n\n export const deleteReservation = (id) => async dispatch => {\n await axios.delete(reservationsAPI + id)\n .then(res => {\n   return dispatch ({\n     type: DELETE_RESERVATION,\n     payload: res.data\n   });\n })\n }\n \n  export const fetchReservations = () => async dispatch => {\n\n    await axios.get(reservationsAPI, {\n    })\n      .then(res => { \n        return dispatch({\n          type: FETCH_RESERVATIONS,\n          payload: res.data\n        });\n      })\n      .catch(err => {\n        console.log(err);\n        throw new Error('Could not fetch reservations.' + err);\n      });    \n  }\n\n\n  "]},"metadata":{},"sourceType":"module"}