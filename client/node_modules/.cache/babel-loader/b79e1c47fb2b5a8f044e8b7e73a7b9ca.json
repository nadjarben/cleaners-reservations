{"ast":null,"code":"var _this = this;\n\nimport axios from 'axios';\nimport { ON_SIGN_IN, FETCH_RESERVATIONS, DELETE_RESERVATION, MAIL_RESERVATION } from './types';\nexport var onSignIn = function onSignIn(token) {\n  return function (dispatch) {\n    var _this$state = _this.state,\n        signInEmail = _this$state.signInEmail,\n        signInPassword = _this$state.signInPassword;\n\n    _this.setState({\n      isLoading: true\n    }); // Post request to backend\n\n\n    fetch('https://www.thecleanersisrael.com/api/account/signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: signInEmail,\n        password: signInPassword\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      console.log('json', json);\n\n      if (json.success) {\n        dispatch({\n          type: ON_SIGN_IN,\n          payload: json\n        });\n\n        _this.setState({\n          signInError: json.message,\n          isLoading: false,\n          signInPassword: '',\n          signInEmail: '',\n          token: json.token\n        });\n      } else {\n        _this.setState({\n          signInError: json.message,\n          isLoading: false\n        });\n      }\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\nadja\\Documents\\GitHub\\Cleaners\\client\\src\\store\\actions\\authActions.js"],"names":["axios","ON_SIGN_IN","FETCH_RESERVATIONS","DELETE_RESERVATION","MAIL_RESERVATION","onSignIn","token","dispatch","state","signInEmail","signInPassword","setState","isLoading","fetch","method","headers","body","JSON","stringify","email","password","then","res","json","console","log","success","type","payload","signInError","message"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,kBAArB,EAAyCC,kBAAzC,EAA6DC,gBAA7D,QAAqF,SAArF;AAIA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD;AAAA,SAAW,UAAAC,QAAQ,EAAI;AAAA,sBAIzC,KAAI,CAACC,KAJoC;AAAA,QAE3CC,WAF2C,eAE3CA,WAF2C;AAAA,QAG3CC,cAH2C,eAG3CA,cAH2C;;AAK7C,IAAA,KAAI,CAACC,QAAL,CAAc;AACZC,MAAAA,SAAS,EAAE;AADC,KAAd,EAL6C,CAQ7C;;;AACAC,IAAAA,KAAK,CAAC,sDAAD,EAAyD;AAC5DC,MAAAA,MAAM,EAAE,MADoD;AAE5DC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFmD;AAK5DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAEV,WADY;AAEnBW,QAAAA,QAAQ,EAAEV;AAFS,OAAf;AALsD,KAAzD,CAAL,CASGW,IATH,CASQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KATX,EAUGF,IAVH,CAUQ,UAAAE,IAAI,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,IAApB;;AACA,UAAIA,IAAI,CAACG,OAAT,EAAkB;AAChBnB,QAAAA,QAAQ,CAAC;AACPoB,UAAAA,IAAI,EAAE1B,UADC;AAEP2B,UAAAA,OAAO,EAAEL;AAFF,SAAD,CAAR;;AAIA,QAAA,KAAI,CAACZ,QAAL,CAAc;AACZkB,UAAAA,WAAW,EAAEN,IAAI,CAACO,OADN;AAEZlB,UAAAA,SAAS,EAAE,KAFC;AAGZF,UAAAA,cAAc,EAAE,EAHJ;AAIZD,UAAAA,WAAW,EAAE,EAJD;AAKZH,UAAAA,KAAK,EAAEiB,IAAI,CAACjB;AALA,SAAd;AAOD,OAZD,MAYO;AACL,QAAA,KAAI,CAACK,QAAL,CAAc;AACZkB,UAAAA,WAAW,EAAEN,IAAI,CAACO,OADN;AAEZlB,UAAAA,SAAS,EAAE;AAFC,SAAd;AAID;AACF,KA9BH;AA+BC,GAxCqB;AAAA,CAAjB","sourcesContent":["import axios from 'axios';\nimport { ON_SIGN_IN, FETCH_RESERVATIONS, DELETE_RESERVATION, MAIL_RESERVATION } from './types';\n\n\n\nexport const onSignIn = (token) => dispatch => {\n  const {\n    signInEmail,\n    signInPassword,\n  } = this.state;\n  this.setState({\n    isLoading: true,\n  });\n  // Post request to backend\n  fetch('https://www.thecleanersisrael.com/api/account/signin', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email: signInEmail,\n      password: signInPassword,\n    }),\n  }).then(res => res.json())\n    .then(json => {\n      console.log('json', json);\n      if (json.success) {\n        dispatch({\n          type: ON_SIGN_IN,\n          payload: json,\n        });\n        this.setState({\n          signInError: json.message,\n          isLoading: false,\n          signInPassword: '',\n          signInEmail: '',\n          token: json.token,\n        });\n      } else {\n        this.setState({\n          signInError: json.message,\n          isLoading: false,\n        });\n      }\n    });\n  }"]},"metadata":{},"sourceType":"module"}